<?xml version = "1.0" ?>
<class name = "Machinetalk Publish">
  Publish
  <socket type = "PUB" nature = "server">
    Alle messages are passed over this socket.
  </socket>

  <outgoing name = "*" response = "*">
    Any messge to client
  </outgoing>

  <outgoing name = "ping">
    Ping to client.
  </outgoing>

  <fsm name = "fsm" initial = "down">
    <state name = "down" inherit = "defaults">
        <event name = "connect" next = "up">
          <action name = "connect sockets" />
        </event>
    </state>
    <state name = "up">
      <event name = "disconnect" next = "down">
        <action name = "disconnect sockets" />
      </event>
    </state>
  </fsm>
</class>
